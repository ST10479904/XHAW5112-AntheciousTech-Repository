<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Empowering the Nation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        /* ========================================================== */
        /* --- GLOBAL STYLING FIXES (ADDED) --- */
        /* ========================================================== */

        /* Basic Reset and Font */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            padding-bottom: 60px; /* Space for fixed footer */
        }

        /* Container for Main Content */
        .container {
            padding: 20px;
            max-width: 1200px;
            margin: 20px auto; /* Centers the content */
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            min-height: 500px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 15px;
            background-color: #5d4037; /* Dark Brown */
            color: white;
            position: fixed;
            bottom: 0;
            width: 100%;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }


        /* ========================================================== */
        /* --- NAVIGATION STYLING FIXES (ADDED) --- */
        /* ========================================================== */
        nav {
            display: flex;
            justify-content: space-between; /* Puts logo on one side, links on the other */
            align-items: center;
            background-color: #8d6e63; /* Medium Brown */
            padding: 10px 5%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        nav .nav-logo {
            height: 40px; /* Set a consistent size for the logo */
            transition: transform 0.3s;
        }

        nav ul {
            list-style: none; /* REMOVES BULLET POINTS */
            margin: 0;
            padding: 0;
            display: flex; /* MAKES LIST ITEMS HORIZONTAL */
        }

        nav ul li {
            margin-left: 20px;
        }

        .nav-link {
            text-decoration: none;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
            font-weight: 500;
            white-space: nowrap; /* Prevents wrapping */
        }

        .nav-link:hover, .nav-link.active {
            background-color: #5d4037; /* Darker brown on hover/active */
            color: #ffe0b2;
        }

        /* Re-using the .course-button class for the Home page button and Calculator buttons */
        .course-button {
            background-color: #8d6e63;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s, transform 0.1s;
        }

        .course-button:hover {
            background-color: #5d4037;
        }

        /* ========================================================== */
        /* --- CALCULATOR PAGE STYLING (YOUR EXISTING CSS) --- */
        /* ========================================================== */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .contact-fieldset, .course-fieldset {
            border: 1px solid #8d6e63;
            padding: 20px;
            border-radius: 8px;
        }

        .contact-fieldset {
            grid-column: 1 / 3; /* Span both columns */
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .course-list label {
            display: block;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        #calculate-fees-btn, #request-consultant-btn {
            grid-column: 1 / 3;
            margin-top: 10px;
        }

        #quote-output {
            grid-column: 1 / 3;
            text-align: center;
            padding: 20px;
            border: 2px dashed #8b5a2b;
            border-radius: 8px;
            margin-top: 10px;
        }

        .total-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: #5d4037;
        }

        .vat-info {
            font-size: 0.9rem;
            color: #8d6e63;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            .contact-fieldset, #calculate-fees-btn, #request-consultant-btn, #quote-output {
                grid-column: 1 / 2;
            }

            /* Fix navigation on small screens */
            nav ul {
                display: block;
            }
            nav ul li {
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <nav>
        <a href="#" class="logo-container">
            <img src="logo.png" alt="Empowering the Nation Logo" class="nav-logo">
        </a>
        <ul>
            <li><a href="#" class="nav-link" data-content="history">Home</a></li>
            <li><a href="#" class="nav-link" data-content="login">Login</a></li>
            <li><a href="#" class="nav-link" data-content="about">About Us</a></li>
            <li><a href="#" class="nav-link" data-content="contact">Contact Us</a></li>
            <li><a href="#" class="nav-link" data-content="courses">Courses</a></li>
            <li><a href="#" class="nav-link" data-content="details">Details</a></li>
            <li><a href="#" class="nav-link" data-content="check">Check</a></li>
        </ul>
    </nav>

    <div class="container" id="main-content-container"></div>

    <footer>
        &copy; 2025 Empowering the Nation. All rights reserved.
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mainContentContainer = document.getElementById('main-content-container');
            const SIX_MONTH_PRICE = 1500;
            const SIX_WEEK_PRICE = 750;

            // --- HTML TEMPLATES ---
            // Added class="course-button" to the Home page button for styling
            const historyHtml = `
                <section class="home-section">
                    <h1>Welcome to Empowering the Nation</h1>
                    <p>Unlock your potential with our skills development courses.</p>
                    <button id="get-started-btn" class="course-button">Get Started</button>
                </section>
            `; 
            const loginHtml = `...`;      // Placeholder
            const coursesHtml = `...`;    // Placeholder

            const detailsHtml = `
            <section class="details-calculator">
                <h2>Calculate Your Course Fees</h2>
                <p>Select the courses you are interested in. Click 'Calculate Total' for a quoted fee including 15% VAT.</p>

                <form id="fee-calculator-form" class="form-grid">
                    <fieldset class="contact-fieldset">
                        <legend>Your Contact Details</legend>
                        <div class="form-group">
                            <label for="customer-name"><i class="fas fa-user"></i> Name:</label>
                            <input type="text" id="customer-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="customer-phone"><i class="fas fa-phone"></i> Phone Number:</label>
                            <input type="tel" id="customer-phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="customer-email"><i class="fas fa-envelope"></i> Email Address:</label>
                            <input type="email" id="customer-email" name="email" required>
                        </div>
                    </fieldset>

                    <fieldset class="course-fieldset">
                        <legend>Select Courses</legend>
                        <p>Fees are a base price before VAT and discounts.</p>
                        
                        <div class="course-list" id="course-checkbox-list">
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_MONTH_PRICE}"> First Aid (R ${SIX_MONTH_PRICE})
                            </label>
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_MONTH_PRICE}"> Sewing (R ${SIX_MONTH_PRICE})
                            </label>
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_MONTH_PRICE}"> Landscaping (R ${SIX_MONTH_PRICE})
                            </label>
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_MONTH_PRICE}"> Life Skills (R ${SIX_MONTH_PRICE})
                            </label>
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_WEEK_PRICE}"> Child Minding (R ${SIX_WEEK_PRICE})
                            </label>
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_WEEK_PRICE}"> Cooking (R ${SIX_WEEK_PRICE})
                            </label>
                            <label>
                                <input type="checkbox" name="course" data-price="${SIX_WEEK_PRICE}"> Garden Maintenance (R ${SIX_WEEK_PRICE})
                            </label>
                        </div>
                    </fieldset>

                    <button type="button" id="calculate-fees-btn" class="course-button">
                        <i class="fas fa-calculator"></i> Calculate Total Fees
                    </button>
                    
                    <div id="quote-output">
                        <h3>Quoted Total Fee:</h3>
                        <p class="total-display">R <span id="total-price-value">0.00</span></p>
                        <p class="vat-info">(Includes 15% VAT. No discounts applied yet.)</p>
                    </div>

                    <button type="submit" id="request-consultant-btn" class="course-button submit-btn">
                        <i class="fas fa-paper-plane"></i> Request Consultant Contact
                    </button>
                </form>
            </section>
            `;
            // --- END HTML TEMPLATES ---


            function loadContent(content) {
                mainContentContainer.innerHTML = '';
                
                switch (content) {
                    case 'history':
                    case 'home':
                        mainContentContainer.innerHTML = historyHtml;
                        const getStartedBtn = document.getElementById('get-started-btn');
                        if(getStartedBtn) {
                            getStartedBtn.addEventListener('click', () => {
                                loadContent('login');
                            });
                        }
                        break;
                    case 'login':
                        mainContentContainer.innerHTML = loginHtml;
                        setupLoginListeners();
                        break;
                    case 'courses':
                        mainContentContainer.innerHTML = coursesHtml;
                        setupCourseCalculator();
                        break;
                    case 'details':
                        mainContentContainer.innerHTML = detailsHtml;
                        setupDetailsListeners();
                        break;
                    default:
                        mainContentContainer.innerHTML = '<h1>Page not found</h1><p>Not implemented yet.</p>';
                }
            }

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    // Update active class on links
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    loadContent(link.dataset.content);
                });
            });

            // (Keep your existing setupLoginListeners function here)
            function setupLoginListeners() {
                const signinTab = document.getElementById("signin-tab");
                const signupTab = document.getElementById("signup-tab");
                const signinForm = document.getElementById("signin-form");
                const signupForm = document.getElementById("signup-form");
                const switchToSignup = document.getElementById("switch-to-signup");
                const switchToSignin = document.getElementById("switch-to-signin");
                const loginMessage = document.getElementById('login-message');

                if (signinTab) signinTab.addEventListener("click", () => {
                    signinTab.classList.add("active");
                    signupTab.classList.remove("active");
                    signinForm.style.display = "block";
                    signupForm.style.display = "none";
                });

                if (signupTab) signupTab.addEventListener("click", () => {
                    signupTab.classList.add("active");
                    signinTab.classList.remove("active");
                    signupForm.style.display = "block";
                    signinForm.style.display = "none";
                });

                if (switchToSignup) switchToSignup.addEventListener("click", (e) => {
                    e.preventDefault();
                    signupTab.click();
                });
                if (switchToSignin) switchToSignin.addEventListener("click", (e) => {
                    e.preventDefault();
                    signinTab.click();
                });

                document.querySelectorAll(".password-toggle").forEach((toggle) => {
                    toggle.addEventListener("click", () => {
                        const input = toggle.previousElementSibling;
                        if (input.type === "password") {
                            input.type = "text";
                            toggle.classList.remove("fa-eye");
                            toggle.classList.add("fa-eye-slash");
                        } else {
                            input.type = "password";
                            toggle.classList.remove("fa-eye-slash");
                            toggle.classList.add("fa-eye");
                        }
                    });
                });

                const emailInput = document.getElementById('email-signin');
                const passwordInput = document.getElementById('password-signin');

                if (signinForm) {
                    signinForm.addEventListener('submit', (e) => {
                        e.preventDefault();

                        const emailVal = emailInput.value.trim();
                        const passVal = passwordInput.value;

                        const correctEmail = "user@example.com";
                        const correctPassword = "password123";

                        if (
                            emailVal.toLowerCase() === correctEmail.toLowerCase() &&
                            passVal === correctPassword
                        ) {
                            loginMessage.textContent = "Login successful! Redirecting...";
                            loginMessage.classList.add('success');
                            loginMessage.classList.remove('error');
                            setTimeout(() => {
                                loadContent('courses');
                            }, 500);
                        } else {
                            loginMessage.textContent = "Invalid email or password. Please try again.";
                            loginMessage.classList.add('error');
                            loginMessage.classList.remove('success');
                        }
                    });
                }
            }


            // (Keep your existing setupCourseCalculator function here)
            function setupCourseCalculator() {
                const courseForm = document.getElementById('course-form');
                if (!courseForm) return; 
                
                const checkboxes = courseForm.querySelectorAll('input[type="checkbox"]');
                const totalSpan = document.getElementById('total-price');

                function calculateTotal() {
                    let total = 0;
                    checkboxes.forEach(checkbox => {
                        if (checkbox.checked) {
                            total += parseInt(checkbox.dataset.price, 10);
                        }
                    });
                    totalSpan.textContent = `R ${total}`;
                }

                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', calculateTotal);
                });
            }

            // --- DETAILS PAGE CALCULATOR FUNCTION (setupDetailsListeners) ---
            function setupDetailsListeners() {
                const calculateBtn = document.getElementById('calculate-fees-btn');
                const courseCheckboxes = document.querySelectorAll('#course-checkbox-list input[type="checkbox"]');
                const totalSpan = document.getElementById('total-price-value');
                const form = document.getElementById('fee-calculator-form');

                function calculateTotalFee() {
                    let subtotal = 0;
                    const VAT_RATE = 0.15; // 15% VAT

                    courseCheckboxes.forEach(checkbox => {
                        if (checkbox.checked) {
                            subtotal += parseFloat(checkbox.dataset.price); 
                        }
                    });

                    // Apply VAT
                    const vatAmount = subtotal * VAT_RATE;
                    const totalQuotedFee = subtotal + vatAmount;

                    // Display the total, formatted to two decimal places
                    totalSpan.textContent = totalQuotedFee.toFixed(2);
                }

                if (calculateBtn) {
                    // Calculate fees dynamically when a checkbox is checked or unchecked
                    courseCheckboxes.forEach(checkbox => {
                        checkbox.addEventListener('change', calculateTotalFee);
                    });
                    // Also calculate when the explicit button is clicked
                    calculateBtn.addEventListener('click', calculateTotalFee);
                }

                // Handle the form submission for requesting a consultant
                if (form) {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();

                        const selectedCourses = [];
                        let subtotal = 0;
                        
                        courseCheckboxes.forEach(checkbox => {
                            if (checkbox.checked) {
                                selectedCourses.push({
                                    name: checkbox.parentNode.textContent.trim().split('(')[0].trim(),
                                    price: parseFloat(checkbox.dataset.price)
                                });
                                subtotal += parseFloat(checkbox.dataset.price);
                            }
                        });

                        if (selectedCourses.length === 0) {
                            alert("Please select at least one course before requesting a consultant.");
                            return;
                        }
                        
                        calculateTotalFee();

                        const customerData = {
                            name: document.getElementById('customer-name').value,
                            phone: document.getElementById('customer-phone').value,
                            email: document.getElementById('customer-email').value,
                            courses: selectedCourses,
                            subtotal: subtotal,
                            quote: parseFloat(totalSpan.textContent)
                        };

                        console.log("Customer Request Submitted:", customerData);
                        alert(`Thank you, ${customerData.name}! Your request for a consultant to discuss ${selectedCourses.length} course(s) has been submitted. A consultant will contact you shortly at ${customerData.email}.`);
                    });
                }
                
                calculateTotalFee();
            }
            // --- END DETAILS PAGE CALCULATOR FUNCTION ---


            // Load default
            loadContent('history');
        });
    </script>
</body>
</html>